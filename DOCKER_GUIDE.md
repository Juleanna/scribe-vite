# üöÄ –ü–æ–¥—Ä–æ–±–Ω–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ –∑–∞–ø—É—Å–∫—É –ø—Ä–æ–µ–∫—Ç–∞ –≤ Docker

## 1. –ß—Ç–æ –ø–æ—Ç—Ä–µ–±—É–µ—Ç—Å—è –∑–∞—Ä–∞–Ω–µ–µ
- üêã –£—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—ã–π –∏ –∑–∞–ø—É—â–µ–Ω–Ω—ã–π Docker Desktop (Windows/macOS) –∏–ª–∏ Docker Engine (Linux).
- üåê –°–≤–æ–±–æ–¥–Ω—ã–π –ø–æ—Ä—Ç –¥–ª—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é 8080).
- üìÇ –ü—Ä–æ–µ–∫—Ç –≤ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ `f:\scribe-vite` (–ª–∏–±–æ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–π –ø—É—Ç—å –Ω–∞ –≤–∞—à–µ–π –º–∞—à–∏–Ω–µ).

## 2. –ß—Ç–æ —É–∂–µ –µ—Å—Ç—å –≤ –ø—Ä–æ–µ–∫—Ç–µ
- üì¶ `Dockerfile` ‚Äî –¥–≤—É—Ö—Å—Ç–∞–¥–∏–π–Ω–∞—è —Å–±–æ—Ä–∫–∞: `node:22-alpine` –¥–ª—è —É—Å—Ç–∞–Ω–æ–≤–∫–∏ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π –∏ —Å–±–æ—Ä–∫–∏ ‚Üí `nginx:1.27-alpine` –¥–ª—è —Ä–∞–∑–¥–∞—á–∏ –≥–æ—Ç–æ–≤–æ–π —Å—Ç–∞—Ç–∏–∫–∏.
- üö´ `.dockerignore` ‚Äî –∏—Å–∫–ª—é—á–∞–µ—Ç `node_modules`, `dist`, –ª–æ–≥–∏ –∏ –≤—Ä–µ–º–µ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã, —á—Ç–æ–±—ã —É—Å–∫–æ—Ä–∏—Ç—å —Å–±–æ—Ä–∫—É –∏ –Ω–µ —Ç—è–Ω—É—Ç—å –ª–∏—à–Ω–µ–≥–æ –≤ –æ–±—Ä–∞–∑.

## 3. –°–±–æ—Ä–∫–∞ –æ–±—Ä–∞–∑–∞
–û—Ç–∫—Ä–æ–π—Ç–µ —Ç–µ—Ä–º–∏–Ω–∞–ª –≤ –∫–æ—Ä–Ω–µ –ø—Ä–æ–µ–∫—Ç–∞ (`f:\scribe-vite`) –∏ –≤—ã–ø–æ–ª–Ω–∏—Ç–µ:
```powershell
docker build -t scribe-vite:local .
```
–ß—Ç–æ –ø—Ä–æ–∏–∑–æ–π–¥—ë—Ç:
1) ‚öôÔ∏è –í —Å–ª–æ–µ —Å–±–æ—Ä–∫–∏ —É—Å—Ç–∞–Ω–æ–≤—è—Ç—Å—è –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ —á–µ—Ä–µ–∑ `npm ci`.
2) üõ†Ô∏è –í—ã–ø–æ–ª–Ω–∏—Ç—Å—è `npm run build`, —Ä–µ–∑—É–ª—å—Ç–∞—Ç –ø–æ–ø–∞–¥—ë—Ç –≤ `dist`.
3) üì§ –í —Ñ–∏–Ω–∞–ª—å–Ω–æ–º –æ–±—Ä–∞–∑–µ –æ—Å—Ç–∞–Ω–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ `nginx` + —Å–æ–±—Ä–∞–Ω–Ω–∞—è —Å—Ç–∞—Ç–∏–∫–∞ (–º–∏–Ω–∏–º–∞–ª—å–Ω—ã–π —Ä–∞–∑–º–µ—Ä –∏ attack surface).

–ü—Ä–æ–≤–µ—Ä–∫–∞ –∫—ç—à–∞: –µ—Å–ª–∏ `package*.json` –Ω–µ –º–µ–Ω—è–ª–∏—Å—å, `npm ci` –≤–æ–∑—å–º—ë—Ç—Å—è –∏–∑ –∫—ç—à–∞ –∏ —Å–±–æ—Ä–∫–∞ –ø—Ä–æ–π–¥—ë—Ç –∑–∞–º–µ—Ç–Ω–æ –±—ã—Å—Ç—Ä–µ–µ.

## 4. –ó–∞–ø—É—Å–∫ production-–≤–µ—Ä—Å–∏–∏
–ó–∞–ø—É—Å—Ç–∏—Ç–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä, –ø—Ä–æ–±—Ä–æ—Å–∏–≤ –ø–æ—Ä—Ç 80 –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ –Ω–∞ 8080 —Ö–æ—Å—Ç–∞:
```powershell
docker run --rm -p 8080:80 scribe-vite:local
```
- üåç –û—Ç–∫—Ä–æ–π—Ç–µ –≤ –±—Ä–∞—É–∑–µ—Ä–µ: http://localhost:8080
- ‚èπÔ∏è –û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å: `Ctrl+C` (–∫–æ–Ω—Ç–µ–π–Ω–µ—Ä —É–¥–∞–ª–∏—Ç—Å—è —Å–∞–º –±–ª–∞–≥–æ–¥–∞—Ä—è `--rm`).

### –ö–∞—Å—Ç–æ–º–Ω—ã–π –ø–æ—Ä—Ç
–ï—Å–ª–∏ 8080 –∑–∞–Ω—è—Ç, –≤—ã–±–µ—Ä–∏—Ç–µ –¥—Ä—É–≥–æ–π –≤–Ω–µ—à–Ω–∏–π –ø–æ—Ä—Ç, –Ω–∞–ø—Ä–∏–º–µ—Ä 3000:
```powershell
docker run --rm -p 3000:80 scribe-vite:local
```
–ò –æ—Ç–∫—Ä—ã–≤–∞–π—Ç–µ http://localhost:3000

## 5. –†–µ–∂–∏–º —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
–î–ª—è hot-reload –±–µ–∑ —Å–±–æ—Ä–∫–∏ —á–µ—Ä–µ–∑ nginx –º–æ–∂–Ω–æ –∑–∞–ø—É—Å—Ç–∏—Ç—å dev-—Å–µ—Ä–≤–µ—Ä Vite –∏–∑ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞:
```powershell
docker run --rm -it -p 5173:5173 -v ${PWD}:/app -w /app node:22-alpine `
  sh -c "npm install && npm run dev -- --host --port 5173"
```
- üíæ –ü—Ä–æ–µ–∫—Ç –º–æ–Ω—Ç–∏—Ä—É–µ—Ç—Å—è –≤–Ω—É—Ç—Ä—å (`-v ${PWD}:/app`), –∏–∑–º–µ–Ω–µ–Ω–∏—è —Å—Ä–∞–∑—É –≤–∏–¥–Ω—ã.
- üåê –û—Ç–∫—Ä—ã—Ç—å: http://localhost:5173
- ‚èπÔ∏è –í—ã—Ö–æ–¥: `Ctrl+C`.

## 6. –ü–æ–ª–µ–∑–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã
- üñºÔ∏è –°–ø–∏—Å–æ–∫ –æ–±—Ä–∞–∑–æ–≤: `docker images`
- üßπ –£–¥–∞–ª–∏—Ç—å –æ–±—Ä–∞–∑: `docker rmi scribe-vite:local`
- üìú –õ–æ–≥–∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞: `docker logs <container-id>`
- üéõÔ∏è –ó–∞–ø—É—Å–∫ –≤ —Ñ–æ–Ω–µ: `docker run -d -p 8080:80 scribe-vite:local`

## 7. –¢–∏–ø–∏—á–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã –∏ —Ä–µ—à–µ–Ω–∏—è
- ‚ùå `Cannot connect to the Docker daemon`: –∑–∞–ø—É—Å—Ç–∏—Ç–µ Docker Desktop/—Å–ª—É–∂–±—É Docker.
- ‚ùå `port is already allocated`: –≤—ã–±–µ—Ä–∏—Ç–µ –¥—Ä—É–≥–æ–π –≤–Ω–µ—à–Ω–∏–π –ø–æ—Ä—Ç (–ø—Ä–∏–º–µ—Ä –≤ —Ä–∞–∑–¥–µ–ª–µ 4).
- üê¢ –ú–µ–¥–ª–µ–Ω–Ω–∞—è —Å–±–æ—Ä–∫–∞: —É–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ `.dockerignore` –Ω–∞ –º–µ—Å—Ç–µ; –ø—Ä–∏ —Å–º–µ–Ω–µ `package*.json` –∫—ç—à –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π –∏–Ω–≤–∞–ª–∏–¥–∏—Ä—É–µ—Ç—Å—è ‚Äî —ç—Ç–æ –Ω–æ—Ä–º–∞–ª—å–Ω–æ.

## 8. –ß—Ç–æ –∏–∑–º–µ–Ω–∏—Ç—å –ø–æ–¥ —Å–µ–±—è (–µ—Å–ª–∏ –ø–æ–Ω–∞–¥–æ–±–∏—Ç—Å—è)
- üß≠ –ü–æ—Ä—Ç—ã: –ø–æ–¥—Å—Ç–∞–≤—å—Ç–µ –Ω—É–∂–Ω—ã–π –≤–Ω–µ—à–Ω–∏–π –ø–æ—Ä—Ç –≤ `-p <host>:80`.
- üìÅ –ü—É—Ç—å: –µ—Å–ª–∏ —Ä–∞–±–æ—Ç–∞–µ—Ç–µ –Ω–µ –∏–∑ `f:\scribe-vite`, –∑–∞–π–¥–∏—Ç–µ –≤ –∞–∫—Ç—É–∞–ª—å–Ω—É—é –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é –ø–µ—Ä–µ–¥ —Å–±–æ—Ä–∫–æ–π/–∑–∞–ø—É—Å–∫–æ–º.
- üåê Nginx-–Ω–∞—Å—Ç—Ä–æ–π–∫–∏: –¥–ª—è –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã—Ö –∑–∞–≥–æ–ª–æ–≤–∫–æ–≤, –∫–µ—à–∏—Ä–æ–≤–∞–Ω–∏—è –∏–ª–∏ gzip –º–æ–∂–Ω–æ –¥–æ–ø–æ–ª–Ω–∏—Ç—å `Dockerfile`, –¥–æ–±–∞–≤–∏–≤ —Å–≤–æ–π `nginx.conf` –∏ –∫–æ–ø–∏—Ä—É—è –µ–≥–æ –≤ `/etc/nginx/conf.d/default.conf`.

–ì–æ—Ç–æ–≤–æ! –ü–æ—Å–ª–µ –∑–∞–ø—É—Å–∫–∞ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –¥–æ—Å—Ç—É–ø–Ω–æ –∏–∑ –±—Ä–∞—É–∑–µ—Ä–∞ –ø–æ –ø—Ä–æ–±—Ä–æ—à–µ–Ω–Ω–æ–º—É –ø–æ—Ä—Ç—É. –ï—Å–ª–∏ –Ω—É–∂–Ω—ã –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Å—Ü–µ–Ω–∞—Ä–∏–∏ ‚Äî –Ω–∞–ø–∏—à–∏—Ç–µ, –¥–æ–±–∞–≤–ª—é. 
